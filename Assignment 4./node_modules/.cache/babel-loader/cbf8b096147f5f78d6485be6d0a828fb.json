{"ast":null,"code":"var _jsxFileName = \"/Users/olek/Desktop/School/AIA/Assignment 4./src/components/ItemList.jsx\";\nimport React from 'react';\nimport Item from './Item';\nimport EditableItem from './EditableItem';\nimport { useForm } from '../CustomHooks';\n\nconst ItemList = ({\n  items,\n  setItems\n}) => {\n  const {\n    inputs,\n    handleInputChange\n  } = useForm();\n  setItems(items.sort((a, b) => {\n    console.log(a[inputs.sort], b[inputs.sort]);\n    return a[inputs.sort] >= b[inputs.sort];\n  }));\n\n  const edit = name => () => {\n    const item = items.find(item => item.name === name);\n    setItems([...items.filter(item => item.name !== name), { ...item,\n      editable: true\n    }]);\n  };\n\n  const save = (name, data) => () => {\n    const item = items.find(item => item.name === name);\n    const nextId = items.reduce((item, acc) => item.id > acc ? item.id : acc, 0) + 1;\n    setItems([...items.filter(item => item.name !== name), { ...item,\n      ...data,\n      editable: false,\n      id: nextId\n    }]);\n  };\n\n  const remove = name => () => {\n    setItems([...items.filter(item => item.name !== name)]);\n  };\n\n  const add = () => setItems([...items, {\n    image: \"\",\n    name: \"\",\n    description: \"\",\n    rating: 0,\n    editable: true\n  }]);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"search\",\n    value: inputs.search || '',\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"sort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"Sort by\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sort\",\n    value: inputs.sort,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, ['name', 'description', 'rating'].map(key => /*#__PURE__*/React.createElement(\"option\", {\n    key: key,\n    value: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, key)))), items.filter(item => !inputs.search || `${item.name + item.description}`.toUpperCase().indexOf(inputs.search.toUpperCase()) !== -1).map(item => item.editable ? /*#__PURE__*/React.createElement(EditableItem, {\n    key: item.name + item.id,\n    data: item,\n    save: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(Item, {\n    key: item.name + item.id,\n    data: item,\n    edit: edit,\n    remove: remove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: add,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Add mountain\")));\n};\n\nexport default ItemList;","map":{"version":3,"sources":["/Users/olek/Desktop/School/AIA/Assignment 4./src/components/ItemList.jsx"],"names":["React","Item","EditableItem","useForm","ItemList","items","setItems","inputs","handleInputChange","sort","a","b","console","log","edit","name","item","find","filter","editable","save","data","nextId","reduce","acc","id","remove","add","image","description","rating","search","map","key","toUpperCase","indexOf"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport Item from './Item'\nimport EditableItem from './EditableItem'\n\nimport { useForm } from '../CustomHooks'\n\nconst ItemList = ({ items, setItems }) => {\n  const {inputs, handleInputChange} = useForm()\n  setItems(items.sort((a,b) => { console.log(a[inputs.sort], b[inputs.sort]); return a[inputs.sort] >= b[inputs.sort]}))\n  const edit = (name) => () => {\n    const item = items.find(item => item.name === name)\n    setItems( [...items.filter(item => item.name !== name), {...item, editable: true}] )\n  }\n  \n  const save = (name, data) => () => {\n    const item = items.find(item => item.name === name)\n    const nextId = items.reduce((item, acc) => item.id > acc ? item.id : acc, 0) + 1\n    setItems( [...items.filter(item => item.name !== name), {...item, ...data, editable: false, id: nextId}] )\n  }\n\n  const remove = (name) => () => {\n    setItems( [...items.filter(item => item.name !== name)] )\n  }\n\n  const add = () => setItems( [...items, {image: \"\", name: \"\", description: \"\", rating: 0, editable: true}] )\n\n  return (\n    <div className='item-list'>\n      <div className='options'>\n        <label htmlFor='search'>Search</label>\n        <input name='search' value={ inputs.search || '' } onChange={ handleInputChange } />\n\n        <label htmlFor='sort'>Sort by</label>\n        <select name='sort' value={inputs.sort} onChange={ handleInputChange } >\n          {\n            ['name', 'description', 'rating'].map(key => (\n              <option key={key} value={key}>{key}</option>\n            ))\n          }\n        </select>\n      </div>\n      {\n        items\n          .filter(item => !inputs.search || \n            `${item.name + item.description}`\n              .toUpperCase()\n              .indexOf(inputs.search.toUpperCase()) !== -1\n            )\n          .map(item => item.editable ? \n            <EditableItem key={item.name + item.id} data={item} save={save}/>\n            :\n            <Item key={item.name + item.id} data={item} edit={edit} remove={remove} />\n          )\n      }\n      <div className='add'>\n        <button onClick={add}>Add mountain</button>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemList"]},"metadata":{},"sourceType":"module"}